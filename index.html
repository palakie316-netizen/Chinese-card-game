<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#2563eb" />
  <link rel="manifest" href="manifest.json" />
  <link rel="icon" href="assets/icons/icon-192.png" />
  <title>PaoHuZi Trainer</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header>
    <h1 id="title">PaoHuZi Trainer</h1>
    <div class="sub" id="subtitle">Loadingâ€¦</div>
  </header>

  <main>
    <!-- HOME -->
    <section class="view active" id="homeView">
      <div class="grid">
        <div class="card">
          <div class="row" style="justify-content:space-between;align-items:center;">
            <div class="pill" id="modePill">Mode: â€¦</div>
            <div class="pill" id="voicePill">Voice: â€¦</div>
          </div>
          <div class="row" style="margin-top:12px;">
            <button class="primary" id="startLessonBtn">Start Guided Path</button>
            <button id="glossaryBtn">Glossary</button>
            <button id="settingsBtn">Settings</button>
          </div>
          <hr/>
          <div class="row">
            <button id="speakWelcomeBtn">ðŸ”Š Speak welcome</button>
          </div>
          <div style="margin-top:10px;color:var(--muted);font-size:13px;line-height:1.4;">
            Tip: On Android Chrome, open this site and use <b>Add to Home screen</b> to install it like an app.
          </div>
        </div>

        <div class="card">
          <div style="font-weight:900;">What this starter includes</div>
          <div style="margin-top:8px;color:var(--muted);line-height:1.45;">
            A single-page app layout, bilingual voice guidance (English + ä¸­æ–‡ + pinyin), a settings screen with Slow/Normal pronunciation,
            and a PWA setup (manifest + service worker + icons). This is ready to upload to GitHub Pages.
          </div>
        </div>
      </div>
    </section>

    <!-- LESSON -->
    <section class="view" id="lessonView">
      <div class="card">
        <div style="display:flex;justify-content:space-between;align-items:flex-start;gap:10px;">
          <div>
            <div style="font-weight:900;font-size:16px;" id="lessonTitle">Lesson</div>
            <div class="sub" id="lessonProgress">Step</div>
          </div>
          <button id="exitLessonBtn">Exit</button>
        </div>
      </div>
      <div style="height:10px;"></div>
      <div id="lessonBody"></div>
      <div class="row" style="margin-top:12px;">
        <button id="prevStepBtn">Back</button>
        <button class="primary" id="nextStepBtn">Next</button>
      </div>
    </section>

    <!-- SETTINGS -->
    <section class="view" id="settingsView">
      <div class="card">
        <div style="font-weight:900;font-size:16px;">Settings</div>
        <div class="sub">These are saved on your device.</div>
        <hr/>
        <div class="kv">
          <div class="k">Mode</div>
          <div>
            <select id="modeSelect">
              <option value="beginner">Beginner / æ–°æ‰‹ (xÄ«nshÇ’u)</option>
              <option value="advanced">Advanced / è¿›é˜¶ (jÃ¬njiÄ“)</option>
            </select>
          </div>

          <div class="k">Voice</div>
          <div>
            <label style="display:flex;gap:10px;align-items:center;">
              <input type="checkbox" id="voiceToggle" />
              <span>Voice On</span>
            </label>
          </div>

          <div class="k">Pronunciation</div>
          <div>
            <select id="pronSelect">
              <option value="slow">Slow (with pauses)</option>
              <option value="normal">Normal</option>
            </select>
          </div>

          <div class="k">Rate</div>
          <div>
            <select id="rateSelect">
              <option value="0.8">0.8x</option>
              <option value="1.0">1.0x</option>
              <option value="1.2">1.2x</option>
            </select>
          </div>
        </div>
        <div class="row" style="margin-top:12px;">
          <button id="testVoiceBtn">Test Voice</button>
          <button class="primary" id="saveSettingsBtn">Save</button>
          <button id="backFromSettingsBtn">Back</button>
        </div>
      </div>
    </section>

    <!-- GLOSSARY -->
    <section class="view" id="glossaryView">
      <div class="card">
        <div style="display:flex;justify-content:space-between;align-items:center;gap:10px;">
          <div>
            <div style="font-weight:900;font-size:16px;">Glossary</div>
            <div class="sub">Tap ðŸ”Š to hear the term (Option B: English + ä¸­æ–‡ + pinyin).</div>
          </div>
          <button id="backFromGlossaryBtn">Back</button>
        </div>
      </div>
      <div style="height:10px;"></div>
      <div class="grid" id="termList"></div>
    </section>
  </main>

  <div class="toast" id="toast" role="status" aria-live="polite"></div>

  <script src="app.js"></script>
</body>
</html>
